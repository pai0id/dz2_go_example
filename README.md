# Домашнее задание №4

## Задание

Разработка программы на Golang для обработки писем в формате SMTP

## Цель

Разработать программу на языке Golang для работы с письмами в формате SMTP, которая будет автоматически определять количество частей (партов) мультипарт-письма и выводить их количество.

## Краткая справка о формате SMTP

SMTP (Simple Mail Transfer Protocol) - это протокол, используемый для отправки электронной почты в сети Интернет. Он определяет способы, по которым электронные письма передаются и доставляются от отправителя к получателю через различные почтовые серверы.

Вот основные элементы формата письма SMTP:

- Заголовок (Header): Содержит метаданные письма, такие как адрес отправителя, адрес получателя, тема письма, дата отправки и другие дополнительные поля, такие как приоритет или тип контента.

- Тело письма (Body): Сам текст или содержание письма, которое может быть в формате обычного текста или HTML, а также может содержать вложения, такие как изображения или документы.

- Код команд (Command Codes): SMTP использует набор команд для управления процессом передачи письма. Некоторые основные команды включают "EHLO" для приветствия сервера, "MAIL FROM" для указания адреса отправителя, "RCPT TO" для указания адреса получателя и "DATA" для начала передачи данных письма.

- Коды ответов (Response Codes): SMTP также использует коды ответов, чтобы сообщить о статусе выполнения команд. Например, код "250" означает успешное выполнение команды, а код "550" указывает на ошибку.

- Транспортные команды (Transport Commands): Помогают управлять маршрутизацией писем через сеть, включая команды "HELO" для приветствия удаленного сервера и "QUIT" для завершения соединения.

Мультипарт письмо в формате SMTP - это письмо, которое содержит несколько частей или секций. Мультипарт письмо состоит из нескольких различных частей, каждая из которых может иметь свой формат и содержимое. Например, текстовая часть письма может содержать обычный текст сообщения, а другая часть может содержать HTML-версию того же сообщения для отображения в веб-почтовых клиентах. Кроме того, мультипарт письмо может включать вложения, такие как изображения, документы и другие файлы.

## Задача

1. Реализуйте функции `countParts`, `parseEmail`;
2. Проверьте корректность функций с помощью модульных тестов.

Программа работает со письмом, хранящимся в текстовом файле:

Она принимает письмо и возвращает количество партов.

Запустить программу можно так:
    ```bash
    $ make run <filepath>
    ```

 - filepath - Файл с письмом

## Описание функций в файле parser.go:

### Функция сountParts:
Определяет количество партов в письме

Входные параметры:

 - emailText (string): Текст письма в формате SMTP

Возвращаемые значения:

 - int: Количество партов в письме

Пример использования:

```go
partsCount := CountParts(emailText)
fmt.Println("Количество партов:", partsCount)
```

### Функция parseEmail:
Принимает в качестве аргумента текст письма в формате SMTP и парсит его для определения количества партов и их содержимого.

Входные параметры:

 - emailText (string): Текст письма в формате SMTP

Возвращаемые значения:

 - int: Количество партов в письме
 - []string: Содержимое каждой части письма в виде строкового массива

Пример использования:

```go
partsCount, partContents := ParseEmail(emailText)
fmt.Println("Количество партов:", partsCount)
fmt.Println("Содержимое:")
for i, content := range partContents {
    fmt.Printf("Парт %d: %s\n", i+1, content)
    }
```

## Запуск тестов

Запустить тесты можно так:
```bash
$ make test
```
